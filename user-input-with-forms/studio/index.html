<!doctype html>

<head>
	<meta charset="utf-8">
	<script>
		// TODO: create a handler
		function setSearchEngine() {

			let selectedEngine = document.querySelector("input[name='engine']:checked");
			let searchForm = document.getElementById("searchForm");
			let searchTerm = document.querySelector("input[name='q']").value; // Get the search term
			let actions = {
				"google": "https://www.google.com/",
				"duckDuckGo": "https://duckduckgo.com/",
				"bing": "https://www.bing.com/search",
				"ask": "https://www.ask.com/web"
			};
			if (selectedEngine && searchTerm !== "") {
				let selectedEngineValue = selectedEngine.value;
				let action = actions[selectedEngineValue];
				searchForm.setAttribute('action', action);
				//searchForm.action=actions[selectedEngineValue];
			} else {
				event.preventDefault();
			}
			// console.log("setSearchEngine function is executed.");

		}
		window.addEventListener("load", function () {
			// TODO: register the handler
			let form = document.getElementById('searchForm');
			form.addEventListener('submit', setSearchEngine);
		});
	</script>
</head>

<body>

	<form id="searchForm" novalidate>
		<!-- TODO: add form elements -->
		<label>
			<input type="text" name="q" placeholder="Enter your search term"></label>
		<label><input type="radio" name="engine" value="google">Google</label>
		<label><input type="radio" name="engine" value="duckDuckGo">DuckDuckGo</label>
		<label><input type="radio" name="engine" value="bing">Bing</label>
		<label><input type="radio" name="engine" value="ask">Ask</label>
		<label><input type="submit" name="button" value="Go!"></label>
	</form>

</body>